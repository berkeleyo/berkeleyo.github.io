{%- comment -%}
  repo-card.html — renders one repo using GitHub metadata
  include with: {% include repo-card.html repo=r owner=owner %}
{%- endcomment -%}
{%- assign owner = include.owner | default: site.github.owner_name | default: site.github.repository_nwo | split:'/' | first -%}
{%- if include.repo and include.repo.full_name -%}
  {%- assign repo_full = include.repo.full_name -%}
{%- else -%}
  {%- assign repo_full = owner | append:'/' | append:include.repo.name -%}
{%- endif -%}
<div class="card" style="margin:0 0 1rem 0;">
  <div class="body">
    <h3 style="margin:0;">
      <a href="https://github.com/{{ repo_full }}" target="_blank" rel="noopener">
        {{ include.repo.name | default: repo_full | escape }}
      </a>
    </h3>
    <p style="margin:.5rem 0 0 0;">
      {{ include.repo.description | default: "—" }}
    </p>
    <p style="margin:.25rem 0 0 0; font-size:.9em; opacity:.8;">
      Updated: {{ include.repo.pushed_at | date: "%Y-%m-%d" }} • Language: {{ include.repo.language | default: "n/a" }}
    </p>
    <div class="badges" style="display:flex;gap:8px;flex-wrap:wrap;margin-top:6px;">
      <img alt="last commit" src="https://img.shields.io/github/last-commit/{{ repo_full }}?style=flat" />
      <img alt="issues" src="https://img.shields.io/github/issues/{{ repo_full }}?style=flat" />
      <img alt="license" src="https://img.shields.io/github/license/{{ repo_full }}?style=flat" />
    </div>
  </div>
</div>
